
Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-wksjq[0m
{"level":"warn","ts":1585685079.0749407,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1585685079.07595,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-gzwxl[0m
{"level":"warn","ts":1585685080.0812523,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1585685080.0823102,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-vpsgetcom-jx-dotnet-master-nkwcn-p4z9h[0m
{"level":"warn","ts":1585685086.2295196,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1585685086.7988803,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/******com/**-dotnet.git @ v0.0.9 in path /workspace/source"}

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:e0e7e598235651c78e5264bb2baceec82c9987b5
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Downloading base image microsoft/aspnetcore-build:2.0 
[36mINFO[0m[0001] Error while retrieving image from cache: getting file info: stat /workspace/sha256:296a8da8c2b8eca576b54216ddddace273b0d96792e5cecf02f4fb242206accd: no such file or directory 
[36mINFO[0m[0001] Downloading base image microsoft/aspnetcore-build:2.0 
[36mINFO[0m[0001] Executing 0 build triggers                   
[36mINFO[0m[0001] Using files from context: [/workspace/source/aspnetapp.csproj] 
[36mINFO[0m[0001] Checking for cached layer 660914637642.dkr.ecr.us-west-2.amazonaws.com/todo/cache:f1f04048124d53ca1b50c7144568b37f68d1073917c01fa1c37c764e5e928337... 
[36mINFO[0m[0002] No cached layer found for cmd RUN dotnet restore 
[36mINFO[0m[0002] Unpacking rootfs as cmd RUN dotnet restore requires it. 
[36mINFO[0m[0095] Taking snapshot of full filesystem...        
[36mINFO[0m[0127] WORKDIR /app                                 
[36mINFO[0m[0127] cmd: workdir                                 
[36mINFO[0m[0127] Changed working directory to /app            
[36mINFO[0m[0127] Creating directory /app                      
[36mINFO[0m[0127] Taking snapshot of files...                  
[36mINFO[0m[0127] Using files from context: [/workspace/source/aspnetapp.csproj] 
[36mINFO[0m[0127] COPY *.csproj ./                             
[36mINFO[0m[0127] Taking snapshot of files...                  
[36mINFO[0m[0127] RUN dotnet restore                           
[36mINFO[0m[0127] cmd: /bin/sh                                 
[36mINFO[0m[0127] args: [-c dotnet restore]                    
  Restoring packages for /app/aspnetapp.csproj...
  Restoring packages for /app/aspnetapp.csproj...
  Installing Microsoft.Extensions.FileSystemGlobbing 2.0.0.
  Installing Microsoft.Extensions.FileProviders.Abstractions 2.0.0.
  Installing Microsoft.Extensions.FileProviders.Physical 2.0.0.
  Installing Microsoft.VisualStudio.Web.CodeGeneration.Contracts 2.0.0.
  Installing Microsoft.VisualStudio.Web.CodeGeneration.Tools 2.0.0.
  Restore completed in 10.11 sec for /app/aspnetapp.csproj.
  Installing Microsoft.DotNet.PlatformAbstractions 2.0.0.
  Installing System.Data.SqlClient 4.4.0.
  Installing Microsoft.Extensions.DependencyModel 2.0.0.
  Installing System.Security.Cryptography.Xml 4.4.0.
  Installing Microsoft.EntityFrameworkCore.SqlServer 2.0.0.
  Installing Microsoft.Extensions.Caching.SqlServer 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Core 2.0.0.
  Installing Microsoft.EntityFrameworkCore 2.0.0.
  Installing Microsoft.EntityFrameworkCore.Tools 2.0.0.
  Installing Microsoft.EntityFrameworkCore.Relational 2.0.0.
  Installing Microsoft.AspNetCore.Razor.Language 2.0.0.
  Installing Microsoft.AspNetCore.DataProtection 2.0.0.
  Installing Microsoft.Extensions.Configuration.Xml 2.0.0.
  Installing Microsoft.EntityFrameworkCore.Design 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.ViewFeatures 2.0.0.
  Installing Microsoft.AspNetCore.Server.Kestrel.Core 2.0.0.
  Installing Microsoft.AspNetCore.All 2.0.0.
  Installing Microsoft.AspNetCore 2.0.0.
  Installing Microsoft.AspNetCore.Server.Kestrel 2.0.0.
  Installing Microsoft.AspNetCore.Server.IISIntegration 2.0.0.
  Installing Microsoft.AspNetCore.Server.Kestrel.Https 2.0.0.
  Installing Microsoft.Extensions.Configuration.FileExtensions 2.0.0.
  Installing Microsoft.Extensions.Configuration.CommandLine 2.0.0.
  Installing Microsoft.Extensions.Configuration.UserSecrets 2.0.0.
  Installing Microsoft.Extensions.Logging.Configuration 2.0.0.
  Installing Microsoft.Extensions.Configuration.Json 2.0.0.
  Installing Microsoft.Extensions.Configuration.EnvironmentVariables 2.0.0.
  Installing Microsoft.Extensions.Logging.Console 2.0.0.
  Installing Microsoft.Extensions.Logging.Debug 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.Google 2.0.0.
  Installing Microsoft.Extensions.Logging 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.MicrosoftAccount 2.0.0.
  Installing Microsoft.AspNetCore.AzureAppServicesIntegration 2.0.0.
  Installing Microsoft.AspNetCore.Diagnostics.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Hosting.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Hosting.Server.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.CookiePolicy 2.0.0.
  Installing Microsoft.AspNetCore.Mvc 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.Facebook 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Localization 2.0.0.
  Installing Microsoft.AspNetCore.HttpOverrides 2.0.0.
  Installing Microsoft.Extensions.Caching.Abstractions 2.0.0.
  Installing Microsoft.Extensions.Configuration 2.0.0.
  Installing Microsoft.AspNetCore.Localization.Routing 2.0.0.
  Installing Microsoft.AspNetCore.Localization 2.0.0.
  Installing Microsoft.AspNetCore.MiddlewareAnalysis 2.0.0.
  Installing Microsoft.Extensions.FileProviders.Composite 2.0.0.
  Installing Microsoft.Extensions.Hosting.Abstractions 2.0.0.
  Installing Microsoft.Extensions.Localization 2.0.0.
  Installing Microsoft.Extensions.Localization.Abstractions 2.0.0.
  Installing Microsoft.Extensions.WebEncoders 2.0.0.
  Installing Microsoft.Extensions.Configuration.Abstractions 2.0.0.
  Installing Microsoft.Extensions.Configuration.Binder 2.0.0.
  Installing Microsoft.Extensions.Options.ConfigurationExtensions 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Cors 2.0.0.
  Installing Microsoft.Extensions.Logging.EventSource 2.0.0.
  Installing Microsoft.AspNetCore.Razor 2.0.0.
  Installing Microsoft.Extensions.Configuration.Ini 2.0.0.
  Installing Microsoft.Extensions.Options 2.0.0.
  Installing Microsoft.AspNetCore.AzureAppServices.HostingStartup 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.Core 2.0.0.
  Installing Microsoft.AspNetCore.Antiforgery 2.0.0.
  Installing Microsoft.AspNetCore.Authorization.Policy 2.0.0.
  Installing Microsoft.AspNetCore.Cryptography.KeyDerivation 2.0.0.
  Installing Microsoft.AspNetCore.Http.Features 2.0.0.
  Installing Microsoft.AspNetCore.DataProtection.AzureStorage 2.0.0.
  Installing Microsoft.EntityFrameworkCore.Sqlite 2.0.0.
  Installing Microsoft.Data.Sqlite 2.0.0.
  Installing Microsoft.Extensions.Caching.Redis 2.0.0.
  Installing Microsoft.Extensions.Configuration.AzureKeyVault 2.0.0.
  Installing Microsoft.AspNetCore.DataProtection.Extensions 2.0.0.
  Installing Microsoft.AspNetCore.Html.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.JwtBearer 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Razor.ViewCompilation 2.0.0.
  Installing Microsoft.AspNetCore.Http.Extensions 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.DataAnnotations 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.Twitter 2.0.0.
  Installing Microsoft.AspNetCore.NodeServices 2.0.0.
  Installing Microsoft.AspNetCore.ResponseCaching.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.WebUtilities 2.0.0.
  Installing Microsoft.Extensions.Caching.Memory 2.0.0.
  Installing Microsoft.AspNetCore.DataProtection.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Server.HttpSys 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.Cookies 2.0.0.
  Installing Microsoft.Extensions.Logging.TraceSource 2.0.0.
  Installing Microsoft.Extensions.Logging.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.ApiExplorer 2.0.0.
  Installing Microsoft.AspNetCore.Razor.Runtime 2.0.0.
  Installing Microsoft.AspNetCore.Authorization 2.0.0.
  Installing Microsoft.Extensions.Identity.Core 2.0.0.
  Installing Microsoft.AspNetCore.Cors 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.OAuth 2.0.0.
  Installing Microsoft.AspNetCore.Http 2.0.0.
  Installing Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore 2.0.0.
  Installing Microsoft.AspNetCore.Owin 2.0.0.
  Installing Microsoft.AspNetCore.Hosting 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Formatters.Json 2.0.0.
  Installing Microsoft.Extensions.Identity.Stores 2.0.0.
  Installing Microsoft.Extensions.Logging.AzureAppServices 2.0.0.
  Installing Microsoft.EntityFrameworkCore.InMemory 2.0.0.
  Installing Microsoft.AspNetCore.Identity 2.0.0.
  Installing Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv 2.0.0.
  Installing Microsoft.AspNetCore.ResponseCompression 2.0.0.
  Installing Microsoft.AspNetCore.ResponseCaching 2.0.0.
  Installing Microsoft.AspNetCore.Authentication 2.0.0.
  Installing Microsoft.VisualStudio.Web.BrowserLink 2.0.0.
  Installing Microsoft.AspNetCore.Cryptography.Internal 2.0.0.
  Installing Microsoft.AspNetCore.Http.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Formatters.Xml 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.ApplicationInsights.HostingStartup 2.0.0.
  Installing Microsoft.Extensions.FileProviders.Embedded 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Razor.Extensions 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.RazorPages 2.0.0.
  Installing Microsoft.Extensions.DiagnosticAdapter 2.0.0.
  Installing Microsoft.AspNetCore.Routing 2.0.0.
  Installing Microsoft.AspNetCore.Identity.EntityFrameworkCore 2.0.0.
  Installing Microsoft.AspNetCore.Authentication.OpenIdConnect 2.0.0.
  Installing Microsoft.CodeAnalysis.Razor 2.0.0.
  Installing Microsoft.Net.Http.Headers 2.0.0.
  Installing Microsoft.AspNetCore.StaticFiles 2.0.0.
  Installing Microsoft.AspNetCore.SpaServices 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.Razor 2.0.0.
  Installing Microsoft.AspNetCore.Mvc.TagHelpers 2.0.0.
  Installing Microsoft.AspNetCore.Rewrite 2.0.0.
  Installing Microsoft.AspNetCore.Routing.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions 2.0.0.
  Installing Microsoft.AspNetCore.Session 2.0.0.
  Installing Microsoft.EntityFrameworkCore.Sqlite.Core 2.0.0.
  Installing Microsoft.AspNetCore.WebSockets 2.0.0.
  Installing Microsoft.AspNetCore.Diagnostics 2.0.0.
  Installing Microsoft.Data.Sqlite.Core 2.0.0.
  Generating MSBuild file /app/obj/aspnetapp.csproj.nuget.g.props.
  Generating MSBuild file /app/obj/aspnetapp.csproj.nuget.g.targets.
  Restore completed in 13.9 sec for /app/aspnetapp.csproj.
[36mINFO[0m[0145] Taking snapshot of full filesystem...        
[36mINFO[0m[0179] Pushing layer 660914637642.dkr.ecr.us-west-2.amazonaws.com/todo/cache:f1f04048124d53ca1b50c7144568b37f68d1073917c01fa1c37c764e5e928337 to cache now 
[36mINFO[0m[0179] Using files from context: [/workspace/source] 
[36mINFO[0m[0179] COPY . ./                                    
[36mINFO[0m[0179] Taking snapshot of files...                  
[36mINFO[0m[0180] RUN dotnet publish -c Release -o out         
[36mINFO[0m[0180] cmd: /bin/sh                                 
[36mINFO[0m[0180] args: [-c dotnet publish -c Release -o out]  
Microsoft (R) Build Engine version 15.7.179.6572 for .NET Core
Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 117.34 ms for /app/aspnetapp.csproj.
  Restore completed in 80.34 ms for /app/aspnetapp.csproj.
  aspnetapp -> /app/bin/Release/netcoreapp2.0/aspnetapp.dll
  aspnetapp -> /app/out/
[36mINFO[0m[0203] Taking snapshot of full filesystem...        
[36mINFO[0m[0228] ignoring socket CoreFxPipe_root.F.b8chWRlb9Z9+OWmw6LCxMVL+d, not adding to tar 
[36mINFO[0m[0228] Pushing layer 660914637642.dkr.ecr.us-west-2.amazonaws.com/todo/cache:6f745fed5e31f813b20cbc397436fe96ad80f8078698e5371f5426292c135d89 to cache now 
[36mINFO[0m[0228] ENTRYPOINT ["dotnet", "out/aspnetapp.dll"]   
[36mINFO[0m[0228] No files changed in this command, skipping snapshotting. 
[33mWARN[0m[0228] error uploading layer to cache: failed to push to destination 660914637642.dkr.ecr.us-west-2.amazonaws.com/todo/cache:f1f04048124d53ca1b50c7144568b37f68d1073917c01fa1c37c764e5e928337: NAME_UNKNOWN: The repository with name 'todo/cache' does not exist in the registry with id '660914637642' 
2020/03/31 20:08:38 existing blob: sha256:d4eee24d4dacb41c21411e0477a741655303cdc48b18a948632c31f0f3a70bb8
2020/03/31 20:08:38 existing blob: sha256:9a8ea045c9261c180a34df19cfc9bb3c3f28f29b279bf964ee801536e8244f2f
2020/03/31 20:08:39 existing blob: sha256:1607093a898cc241de8712e4361dcd907898fff35b945adca42db3963f3827b3
2020/03/31 20:08:39 existing blob: sha256:55cbf04beb7001d222c71bfdeae780bda19d5cb37b8dbd65ff0d3e6a0b9b74e6
2020/03/31 20:08:39 existing blob: sha256:1eebc8a262e7ad7ddb898a1e1ca5239b87e7eb58cdb5b347c1657ea79441bffc
2020/03/31 20:08:39 existing blob: sha256:4867c32ba582ce0af39ac32e2e7b571a8ac3230ae94cbe262055c608b341c391
2020/03/31 20:08:39 existing blob: sha256:9996a3dbf48fd91893eb58c8f1a41b6a61e782f464c1c3d555702b3aefc6aa7a
2020/03/31 20:08:39 existing blob: sha256:e626b8d73a892646c35204220977822512ef164668acc40ce997f124e190fe01
2020/03/31 20:08:39 existing blob: sha256:4d833e0fa2188e68647a4f4e71767f659ad2e94edd96bd48b75c4ba6daf266ce
2020/03/31 20:08:39 existing blob: sha256:c0ece037099c52dc882a9bf0d053cc144b4b813547fb17c119344209597d21de
2020/03/31 20:08:39 pushed blob: sha256:4e5030b0494c2e4c57376e9478430714f640fbeaa9c0c46a2e1f9d3fc0a11a33
2020/03/31 20:08:39 pushed blob: sha256:001040d83824c6e5baf652011f74de2726f22b5e4ccb6212858caeb24b498cdf
2020/03/31 20:08:39 pushed blob: sha256:006d2871267953e8a288c3ded8920c7201daf15ed6291441f7d230e16a3274fc
2020/03/31 20:08:40 pushed blob: sha256:5260d9066358f45a1233ae6ced1ba78ec752ea3d452fe1d9a9892d795ed81ba0
2020/03/31 20:08:41 pushed blob: sha256:db17cd37e4f95a77a717076082a238f1427c6ea1f2b1c487536cd585b1582eb5
2020/03/31 20:08:45 pushed blob: sha256:2152fe95637e847f21611b48f7c949a7e1c90dac2a2c41ed59feb60c0715a3cd
2020/03/31 20:08:45 660914637642.dkr.ecr.us-west-2.amazonaws.com/******com/**-dotnet:0.0.9: digest: sha256:25333bfa6cb1aeb7fb2ce38f82e37fd21207c8b243dde225d05654cea519c9fc size: 2723

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
Converted /workspace/source/charts/**-dotnet to an unshallow repository
Generating change log from git ref 44ed8942c0439d210a3db8d7f03c248638b71800 => 0030cb5573300544f7e66663e048e9b51a257c9d
WARNING: No release found for ******com/**-dotnet and tag v0.0.9 so creating a new release
Updated the release information at https://github.com/******com/**-dotnet/releases/tag/v0.0.9
generated: /workspace/source/charts/**-dotnet/templates/release.yaml
Created Release **-dotnet-0-0-9 resource in namespace **
Updating PipelineActivity ******com-**-dotnet-master-2 with version 0.0.9
Updated PipelineActivities ******com-**-dotnet-master-2 with release notes URL: https://github.com/******com/**-dotnet/releases/tag/v0.0.9

Showing logs for build [32mvpsgetcom-jx-dotnet-master-nkwcn-2[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-helm-release[0m
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Uploading chart file **-dotnet-0.0.9.tgz to http://jenkins-x-chartmuseum:8080/api/charts
error: Failed to post chart to http://jenkins-x-chartmuseum:8080/api/charts due to response 401: {"error":"unauthorized"}
Received 401 response: {"error":"unauthorized"}
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-promote-helm-release'. The execution of the pipeline has stopped.[0m
